# ğŸ“§ Email Listing (CMP) â€” MLOps Project

An endâ€‘toâ€‘end Machine Learning Operations (MLOps) system that automatically classifies and organizes emails using a reproducible pipeline built with ZenML and MLflow. The project supports training, tracking, deployment validation, and CI/CD automation via GitHub Actions.

---

## ğŸš€ Project Goals

This project demonstrates a productionâ€‘style ML workflow:

* Data ingestion and preprocessing
* Model training and evaluation
* Experiment tracking (MLflow)
* Pipeline orchestration (ZenML)
* Application interface (Streamlit)
* Continuous Integration & Continuous Deployment (GitHub Actions)

The system enables automated email categorization such as spam filtering, priority sorting, and label grouping.

---

## ğŸ§  Tech Stack

| Category            | Tools              |
| ------------------- | ------------------ |
| Language            | Python             |
| ML                  | Scikitâ€‘learn / NLP |
| Pipeline            | ZenML              |
| Experiment Tracking | MLflow             |
| API                 | FastAPI            |
| UI                  | Streamlit          |
| CI/CD               | GitHub Actions     |
| Packaging           | Joblib / Pickle    |

---

## ğŸ“‚ Project Structure

```
Email_Listing (CMP)
â”‚
â”œâ”€â”€ config/                 # Configuration management
â”œâ”€â”€ entity/                 # Data & model schemas
â”œâ”€â”€ pipelines/              # ZenML training & deployment pipelines
â”œâ”€â”€ src/                    # Core ML logic
â”‚   â”œâ”€â”€ data_ingestion.py
â”‚   â”œâ”€â”€ data_preprocessing.py
â”‚   â””â”€â”€ model_building.py
â”‚
â”œâ”€â”€ steps/                  # ZenML pipeline steps
â”œâ”€â”€ utils/                  # Helper utilities
â”‚
â”œâ”€â”€ run_pipeline.py         # Training pipeline entry
â”œâ”€â”€ run_deployment.py       # Deployment pipeline entry
â”œâ”€â”€ streamlit_app.py        # User interface
â”œâ”€â”€ agent.py                # Prediction agent
â”‚
â””â”€â”€ .github/workflows/      # CI/CD automation
```

---

## âš™ï¸ Installation

### 1ï¸âƒ£ Clone Repository

```bash
git clone <your-repo-url>
cd Email_Listing
```

### 2ï¸âƒ£ Create Virtual Environment

```bash
python -m venv .venv
source .venv/bin/activate   # Linux/Mac
.venv\Scripts\activate     # Windows
```

### 3ï¸âƒ£ Install Dependencies

```bash
pip install -r requirements.txt
```

---

## ğŸ”§ Initialize MLOps Stack

```bash
zenml init
zenml integration install mlflow -y
```

Start experiment tracking UI:

```bash
mlflow ui
```

Open in browser:

```
http://127.0.0.1:5000
```

---

## ğŸ‹ï¸ Run Training Pipeline

```bash
python run_pipeline.py
```

This will:

1. Ingest dataset
2. Clean & preprocess emails
3. Train classifier
4. Evaluate model
5. Log experiment to MLflow
6. Store model artifact

---

## ğŸ¤– Run Prediction App (Streamlit)

```bash
streamlit run streamlit_app.py
```

The UI allows users to paste an email and get predicted category instantly.

---

## ğŸ” Deployment Pipeline

```bash
python run_deployment.py
```

Validates saved model and prepares it for serving.

---

## ğŸ”„ CI/CD (GitHub Actions)

On every push:

1. Install dependencies
2. Initialize ZenML
3. Run training pipeline
4. Validate Streamlit app

If any step fails â†’ commit rejected âŒ

This ensures model reproducibility and stability.

---

## ğŸ” Environment Variables (Best Practice)

Never store credentials in code.

Create `.env` file:

```
API_KEY=your_key_here
```

Access in Python:

```python
import os
api_key = os.getenv("API_KEY")
```

Add to `.gitignore`:

```
.env
credentials.json
```

---

## ğŸ§ª Troubleshooting

**ZenML not initialized**

```
zenml init
```

**MLflow not opening**

```
mlflow ui --port 5000
```

**Pipeline fails in CI**
Make sure dataset path is relative and not local absolute path.

---

## ğŸ“ˆ Future Improvements

* Docker deployment
* Remote artifact store (S3/GCS)
* Scheduled retraining
* Email inbox integration (IMAP API)
* Transformerâ€‘based classifier

---

## ğŸ‘¨â€ğŸ’» Author

Arun Raja
B.Tech Information Technology
AI & MLOps Enthusiast

---

## ğŸ“œ License

This project is for academic and learning purposes.
